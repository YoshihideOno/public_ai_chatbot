# 環境変数テンプレート
# このファイルを .env.local にコピーして使用してください

# データベース設定
# FastAPI（asyncpg）用の接続文字列。未設定時は DATABASE_URL を参照します。
ASYNC_DATABASE_URL=postgresql+asyncpg://user:password@db:5432/ai_chatbot_db
# Alembic / 同期ツール用の接続文字列。Neonなどlibpq互換URLをそのまま設定してください。
DATABASE_URL_SYNC=postgresql://user:password@db:5432/ai_chatbot_db
# 後方互換用。未設定時は ASYNC_DATABASE_URL / DATABASE_URL_SYNC にフォールバックします。
DATABASE_URL=postgresql+asyncpg://user:password@db:5432/ai_chatbot_db
# Neon本番用サンプル（Railway）
# ASYNC_DATABASE_URL=postgresql+asyncpg://neondb_owner:password@ep-xxx-xxx.us-east-2.aws.neon.tech/neondb?ssl=true
# DATABASE_URL_SYNC=postgresql://neondb_owner:password@ep-xxx-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require
# DATABASE_URL=postgresql+asyncpg://neondb_owner:password@ep-xxx-xxx.us-east-2.aws.neon.tech/neondb?ssl=true
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=ai_chatbot_db

# アプリケーション設定
NODE_ENV=development
NEXT_PUBLIC_APP_NAME=AI Chatbot
NEXT_PUBLIC_APP_VERSION=1.0.0
# ウィジェットCDN設定
# 本番環境でホストしているウィジェットの完全なURLを指定
# 例) https://widget-demo.vercel.app/widget.js
NEXT_PUBLIC_WIDGET_CDN_URL=https://cdn.rag-chatbot.com/widget.js

# API設定
API_BASE_URL=http://localhost:3000/api
FASTAPI_BASE_URL=http://localhost:8000
# フロントエンドから参照するAPI URL（本番環境では絶対URLを指定）
# 例) https://api.example.com/api/v1
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1

# バックエンド設定（埋め込みコード生成用）
# ウィジェットCDN URL（バックエンドで埋め込みコード生成時に使用）
# 例) https://cdn.example.com/widget.js
WIDGET_CDN_URL=https://cdn.rag-chatbot.com/widget.js
# APIベースURL（バックエンドで埋め込みコード生成時に使用）
# 例) https://api.example.com/api/v1
# 未設定の場合はAPP_URLから自動構築されます
API_BASE_URL_FOR_EMBED=
# アプリケーションURL（本番環境では必須）
# 例) https://app.example.com
APP_URL=http://localhost:3000

# FastAPI設定
SECRET_KEY=your-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# AI API設定（実際のキーに置き換えてください）
# OPENAI_API_KEY=sk-your-openai-key-here
# ANTHROPIC_API_KEY=your-anthropic-key-here

# 開発用設定
DEBUG=true
LOG_LEVEL=debug

# ファイルストレージ設定
# STORAGE_LOCAL_PATH を未設定の場合は /tmp/rag_storage を利用します
# Docker コンテナとホストで共有したい場合のみ上書きしてください
STORAGE_LOCAL_PATH=/tmp/rag_storage
# 本番環境: Vercel Blob Storageのトークン
# BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxx...
